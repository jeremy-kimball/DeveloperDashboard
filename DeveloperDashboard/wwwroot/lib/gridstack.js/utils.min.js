function obsolete(t,o,r,n,i){var e=(...e)=>(console.warn("gridstack.js: Function `"+r+"` is deprecated in "+i+" and has been replaced with `"+n+"`. It will be **removed** in a future release"),o.apply(t,e));return e.prototype=o.prototype,e}function obsoleteOpts(e,t,o,r){void 0!==e[t]&&(e[o]=e[t],console.warn("gridstack.js: Option `"+t+"` is deprecated in "+r+" and has been replaced with `"+o+"`. It will be **removed** in a future release"))}function obsoleteOptsDel(e,t,o,r){void 0!==e[t]&&console.warn("gridstack.js: Option `"+t+"` is deprecated in "+o+r)}function obsoleteAttr(e,t,o,r){var n=e.getAttribute(t);null!==n&&(e.setAttribute(o,n),console.warn("gridstack.js: attribute `"+t+"`="+n+" is deprecated on this object in "+r+" and has been replaced with `"+o+"`. It will be **removed** in a future release"))}class Utils{static getElements(t,o=document){if("string"!=typeof t)return[t];{const n="getElementById"in o?o:void 0;var r;if(n&&!isNaN(+t[0]))return(r=n.getElementById(t))?[r]:[];let e=o.querySelectorAll(t);return e.length||"."===t[0]||"#"===t[0]||(e=o.querySelectorAll("."+t)).length||(e=o.querySelectorAll("#"+t)),Array.from(e)}}static getElement(t,o=document){if("string"!=typeof t)return t;{const r="getElementById"in o?o:void 0;if(!t.length)return null;if(r&&"#"===t[0])return r.getElementById(t.substring(1));if("#"===t[0]||"."===t[0]||"["===t[0])return o.querySelector(t);if(r&&!isNaN(+t[0]))return r.getElementById(t);let e=o.querySelector(t);return e=(e=r&&!e?r.getElementById(t):e)||o.querySelector("."+t)}}static shouldSizeToContent(e){return e?.grid&&(!!e.sizeToContent||e.grid.opts.sizeToContent&&!1!==e.sizeToContent)}static isIntercepted(e,t){return!(e.y>=t.y+t.h||e.y+e.h<=t.y||e.x+e.w<=t.x||e.x>=t.x+t.w)}static isTouching(e,t){return Utils.isIntercepted(e,{x:t.x-.5,y:t.y-.5,w:t.w+1,h:t.h+1})}static areaIntercept(e,t){var o=(e.x>t.x?e:t).x,r=e.x+e.w<t.x+t.w?e.x+e.w:t.x+t.w;if(r<=o)return 0;var n=(e.y>t.y?e:t).y,e=e.y+e.h<t.y+t.h?e.y+e.h:t.y+t.h;return e<=n?0:(r-o)*(e-n)}static area(e){return e.w*e.h}static sort(e,t=1,o){return o=o||e.reduce((e,t)=>Math.max(t.x+t.w,e),0)||12,-1===t?e.sort((e,t)=>(t.x??1e3)+(t.y??1e3)*o-((e.x??1e3)+(e.y??1e3)*o)):e.sort((e,t)=>(e.x??1e3)+(e.y??1e3)*o-((t.x??1e3)+(t.y??1e3)*o))}static find(e,t){return t?e.find(e=>e.id===t):void 0}static createStylesheet(e,t,o){let r=document.createElement("style");o=o?.nonce;return o&&(r.nonce=o),r.setAttribute("type","text/css"),r.setAttribute("gs-style-id",e),r.styleSheet?r.styleSheet.cssText="":r.appendChild(document.createTextNode("")),t?t.insertBefore(r,t.firstChild):(t=document.getElementsByTagName("head")[0]).appendChild(r),r.sheet}static removeStylesheet(e,t){const o=t||document;let r=o.querySelector("STYLE[gs-style-id="+e+"]");r&&r.parentNode&&r.remove()}static addCSSRule(e,t,o){"function"==typeof e.addRule?e.addRule(t,o):"function"==typeof e.insertRule&&e.insertRule(t+`{${o}}`)}static toBool(e){return"boolean"==typeof e?e:"string"==typeof e?!(""===(e=e.toLowerCase())||"no"===e||"false"===e||"0"===e):Boolean(e)}static toNumber(e){return null===e||0===e.length?void 0:Number(e)}static parseHeight(e){let t,o="px";if("string"==typeof e)if("auto"===e||""===e)t=0;else{var r=e.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%)?$/);if(!r)throw new Error("Invalid height val = "+e);o=r[2]||"px",t=parseFloat(r[1])}else t=e;return{h:t,unit:o}}static defaults(o,...e){return e.forEach(e=>{for(const t in e){if(!e.hasOwnProperty(t))return;null===o[t]||void 0===o[t]?o[t]=e[t]:"object"==typeof e[t]&&"object"==typeof o[t]&&this.defaults(o[t],e[t])}}),o}static same(e,t){if("object"!=typeof e)return e==t;if(typeof e!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(e[o]!==t[o])return!1;return!0}static copyPos(e,t,o=!1){return void 0!==t.x&&(e.x=t.x),void 0!==t.y&&(e.y=t.y),void 0!==t.w&&(e.w=t.w),void 0!==t.h&&(e.h=t.h),o&&(t.minW&&(e.minW=t.minW),t.minH&&(e.minH=t.minH),t.maxW&&(e.maxW=t.maxW),t.maxH&&(e.maxH=t.maxH)),e}static samePos(e,t){return e&&t&&e.x===t.x&&e.y===t.y&&(e.w||1)===(t.w||1)&&(e.h||1)===(t.h||1)}static sanitizeMinMax(e){e.minW||delete e.minW,e.minH||delete e.minH,e.maxW||delete e.maxW,e.maxH||delete e.maxH}static removeInternalAndSame(t,o){if("object"==typeof t&&"object"==typeof o)for(var r in t){let e=t[r];if("_"===r[0]||e===o[r])delete t[r];else if(e&&"object"==typeof e&&void 0!==o[r]){for(var n in e)e[n]!==o[r][n]&&"_"!==n[0]||delete e[n];Object.keys(e).length||delete t[r]}}}static removeInternalForSave(e,t=!0){for(var o in e)"_"!==o[0]&&null!==e[o]&&void 0!==e[o]||delete e[o];delete e.grid,t&&delete e.el,e.autoPosition||delete e.autoPosition,e.noResize||delete e.noResize,e.noMove||delete e.noMove,e.locked||delete e.locked,1!==e.w&&e.w!==e.minW||delete e.w,1!==e.h&&e.h!==e.minH||delete e.h}static throttle(t,o){let r=!1;return(...e)=>{r||(r=!0,setTimeout(()=>{t(...e),r=!1},o))}}static removePositioningStyles(e){let t=e.style;t.position&&t.removeProperty("position"),t.left&&t.removeProperty("left"),t.top&&t.removeProperty("top"),t.width&&t.removeProperty("width"),t.height&&t.removeProperty("height")}static getScrollElement(e){if(!e)return document.scrollingElement||document.documentElement;var t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowY)?e:this.getScrollElement(e.parentElement)}static updateScrollPosition(t,o,r){var n=t.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight;if(n.top<0||n.bottom>i){var l,s=n.bottom-i,a=n.top;let e=this.getScrollElement(t);null!==e&&(l=e.scrollTop,n.top<0&&r<0?t.offsetHeight>i?e.scrollTop+=r:e.scrollTop+=Math.abs(a)>Math.abs(r)?r:a:0<r&&(t.offsetHeight>i?e.scrollTop+=r:e.scrollTop+=r<s?r:s),o.top+=e.scrollTop-l)}}static updateScrollResize(e,t,o){const r=this.getScrollElement(t);var t=r.clientHeight,n=r===this.getScrollElement()?0:r.getBoundingClientRect().top,e=e.clientY-n,n=t-o<e;e<o?r.scrollBy({behavior:"smooth",top:e-o}):n&&r.scrollBy({behavior:"smooth",top:o-(t-e)})}static clone(e){return null==e||"object"!=typeof e?e:e instanceof Array?[...e]:{...e}}static cloneDeep(e){const t=["parentGrid","el","grid","subGrid","engine"],o=Utils.clone(e);for(const r in o)o.hasOwnProperty(r)&&"object"==typeof o[r]&&"__"!==r.substring(0,2)&&!t.find(e=>e===r)&&(o[r]=Utils.cloneDeep(e[r]));return o}static cloneNode(e){const t=e.cloneNode(!0);return t.removeAttribute("id"),t}static appendTo(e,t){let o;(o="string"==typeof t?Utils.getElement(t):t)&&o.appendChild(e)}static addElStyles(t,e){if(e instanceof Object)for(const o in e)e.hasOwnProperty(o)&&(Array.isArray(e[o])?e[o].forEach(e=>{t.style[o]=e}):t.style[o]=e[o])}static initEvent(t,e){const o={type:e.type};e={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:e.target||t.target};return t.dataTransfer&&(o.dataTransfer=t.dataTransfer),["altKey","ctrlKey","metaKey","shiftKey"].forEach(e=>o[e]=t[e]),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach(e=>o[e]=t[e]),{...o,...e}}static simulateMouseEvent(e,t,o){const r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,e.target),(o||e.target).dispatchEvent(r)}}export{obsolete,obsoleteOpts,obsoleteOptsDel,obsoleteAttr,Utils};